function onWindowLoad(){let e=localStorage.getItem("access_token");function t(){var e=new Date;return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()}e&&fetch("https://yudiz.keka.com/k/api/mytime/attendance/summary",{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9",authorization:"Bearer "+e,"cache-control":"no-cache","content-type":"application/json; charset=utf-8",pragma:"no-cache","request-context":"appId=cid-v1:Keka Angular SPA","request-id":"|12ac751a9c54457e90777fd3396381ef.91225a2de2ba495d","sec-ch-ua":'"Chromium";v="92", " Not A;Brand";v="99", "Google Chrome";v="92"',"sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",traceparent:"00-12ac751a9c54457e90777fd3396381ef-91225a2de2ba495d-01","x-requested-with":"XMLHttpRequest"},referrer:"https://yudiz.keka.com/",referrerPolicy:"strict-origin-when-cross-origin",body:null,method:"GET",mode:"cors",credentials:"include"}).then(e=>e.json()).then(e=>{if(e[e.length-1].effectiveHoursInHHMM){let a=e[e.length-1].breakDurationInHHMM,o=e[e.length-1].shiftPolicyName,n=e[e.length-1].arrivalMessage;if(console.log({shift:o,break:a,arrival:n}),0!=e[e.length-1].originalTimeEntries.length){let r=e[e.length-1].effectiveHoursInHHMM.replace("h","").replace("m","").replace(" ",":")+":00",i=e[e.length-1].originalTimeEntries,c=i[i.length-1].actualTimestamp.split("T")[1];if(0===i[i.length-1].originalPunchStatus){let s=new Date(t()+" "+r),l=new Date(t()+" "+c),g=new Date,u,h=new Date(t()+" 08:00:00").getTime()-s.getTime()-(diff2=g.getTime()-l.getTime());if(console.log(t()+" "+r),h<=0)console.log("\uD83C\uDF89 You can go Home Now! \uD83E\uDD19\uD83C\uDFFB");else{var _=h,d=Math.floor(_/1e3/60/60),m=Math.floor((_-=1e3*d*3600)/1e3/60),f=Math.floor((_-=1e3*m*60)/1e3);_-=1e3*f;var $,p,M,H,w=new Date;w.setHours(w.getHours()+d),w.setMinutes(w.getMinutes()+m),w.setSeconds(w.getSeconds()+f),console.log("\uD83D\uDD52 Your 8 hours complete at "+(p=($=w).getHours(),M=$.getMinutes(),H=p>=12?"PM":"AM",(p=(p%=12)||12)+":"+(M=M<10?"0"+M:M)+" "+H)+"\uD83D\uDD52")}}else console.log("\uD83D\uDD52 Please wait for keka to update ! \uD83D\uDD52")}}}).catch(function(e){console.error(e)})}onWindowLoad();console.log("👋🏻 Hello, If you are using this script then please download this script and use because my GIT account was working or not after tomorrow so that backup and use;")
